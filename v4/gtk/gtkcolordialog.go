// Package gtk was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package gtk

import (
	"structs"
	"unsafe"

	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/gdk"
	"github.com/jwijenbergh/puregotk/v4/gio"
	"github.com/jwijenbergh/puregotk/v4/glib"
	"github.com/jwijenbergh/puregotk/v4/gobject"
	"github.com/jwijenbergh/puregotk/v4/gobject/types"
)

type ColorDialogClass struct {
	_ structs.HostLayout

	ParentClass gobject.ObjectClass
}

func (x *ColorDialogClass) GoPointer() uintptr {
	return uintptr(unsafe.Pointer(x))
}

// Asynchronous API to present a color chooser dialog.
//
// `GtkColorDialog` collects the arguments that are needed to present
// the dialog to the user, such as a title for the dialog and whether
// it should be modal.
//
// The dialog is shown with the [method@Gtk.ColorDialog.choose_rgba]
// function.
//
// See [class@Gtk.ColorDialogButton] for a convenient control
// that uses `GtkColorDialog` and presents the results.
type ColorDialog struct {
	gobject.Object
}

var xColorDialogGLibType func() types.GType

func ColorDialogGLibType() types.GType {
	return xColorDialogGLibType()
}

func ColorDialogNewFromInternalPtr(ptr uintptr) *ColorDialog {
	cls := &ColorDialog{}
	cls.Ptr = ptr
	return cls
}

var xNewColorDialog func() uintptr

// Creates a new `GtkColorDialog` object.
func NewColorDialog() *ColorDialog {
	var cls *ColorDialog

	cret := xNewColorDialog()

	if cret == 0 {
		return nil
	}
	cls = &ColorDialog{}
	cls.Ptr = cret
	return cls
}

var xColorDialogChooseRgba func(uintptr, uintptr, *gdk.RGBA, uintptr, uintptr, uintptr)

// Presents a color chooser dialog to the user.
func (x *ColorDialog) ChooseRgba(ParentVar *Window, InitialColorVar *gdk.RGBA, CancellableVar *gio.Cancellable, CallbackVar *gio.AsyncReadyCallback, UserDataVar uintptr) {

	var CallbackVarRef uintptr
	if CallbackVar != nil {
		CallbackVarPtr := uintptr(unsafe.Pointer(CallbackVar))
		if cbRefPtr, ok := glib.GetCallback(CallbackVarPtr); ok {
			CallbackVarRef = cbRefPtr
		} else {
			fcb := func(arg0 uintptr, arg1 uintptr, arg2 uintptr) {
				cbFn := *CallbackVar
				cbFn(arg0, arg1, arg2)
			}
			CallbackVarRef = purego.NewCallback(fcb)
			glib.SaveCallbackWithClosure(CallbackVarPtr, CallbackVarRef, CallbackVar)
		}
	}

	xColorDialogChooseRgba(x.GoPointer(), ParentVar.GoPointer(), InitialColorVar, CancellableVar.GoPointer(), CallbackVarRef, UserDataVar)

}

var xColorDialogChooseRgbaFinish func(uintptr, uintptr, **glib.Error) *gdk.RGBA

// Finishes the [method@Gtk.ColorDialog.choose_rgba] call
//
// Note that this function returns a [error@Gtk.DialogError.DISMISSED]
// error if the user cancels the dialog.
func (x *ColorDialog) ChooseRgbaFinish(ResultVar gio.AsyncResult) (*gdk.RGBA, error) {
	var cerr *glib.Error

	cret := xColorDialogChooseRgbaFinish(x.GoPointer(), ResultVar.GoPointer(), &cerr)

	if cerr == nil {
		return cret, nil
	}
	return cret, cerr

}

var xColorDialogGetModal func(uintptr) bool

// Returns whether the color chooser dialog
// blocks interaction with the parent window
// while it is presented.
func (x *ColorDialog) GetModal() bool {

	cret := xColorDialogGetModal(x.GoPointer())

	return cret
}

var xColorDialogGetTitle func(uintptr) string

// Returns the title that will be shown on the
// color chooser dialog.
func (x *ColorDialog) GetTitle() string {

	cret := xColorDialogGetTitle(x.GoPointer())

	return cret
}

var xColorDialogGetWithAlpha func(uintptr) bool

// Returns whether colors may have alpha.
func (x *ColorDialog) GetWithAlpha() bool {

	cret := xColorDialogGetWithAlpha(x.GoPointer())

	return cret
}

var xColorDialogSetModal func(uintptr, bool)

// Sets whether the color chooser dialog
// blocks interaction with the parent window
// while it is presented.
func (x *ColorDialog) SetModal(ModalVar bool) {

	xColorDialogSetModal(x.GoPointer(), ModalVar)

}

var xColorDialogSetTitle func(uintptr, string)

// Sets the title that will be shown on the
// color chooser dialog.
func (x *ColorDialog) SetTitle(TitleVar string) {

	xColorDialogSetTitle(x.GoPointer(), TitleVar)

}

var xColorDialogSetWithAlpha func(uintptr, bool)

// Sets whether colors may have alpha.
func (x *ColorDialog) SetWithAlpha(WithAlphaVar bool) {

	xColorDialogSetWithAlpha(x.GoPointer(), WithAlphaVar)

}

func (c *ColorDialog) GoPointer() uintptr {
	if c == nil {
		return 0
	}
	return c.Ptr
}

func (c *ColorDialog) SetGoPointer(ptr uintptr) {
	c.Ptr = ptr
}

// SetPropertyModal sets the "modal" property.
// Whether the color chooser dialog is modal.
func (x *ColorDialog) SetPropertyModal(value bool) {
	var v gobject.Value
	v.Init(gobject.TypeBooleanVal)
	v.SetBoolean(value)
	x.SetProperty("modal", &v)
}

// GetPropertyModal gets the "modal" property.
// Whether the color chooser dialog is modal.
func (x *ColorDialog) GetPropertyModal() bool {
	var v gobject.Value
	x.GetProperty("modal", &v)
	return v.GetBoolean()
}

// SetPropertyTitle sets the "title" property.
// A title that may be shown on the color chooser dialog.
func (x *ColorDialog) SetPropertyTitle(value string) {
	var v gobject.Value
	v.Init(gobject.TypeStringVal)
	v.SetString(&value)
	x.SetProperty("title", &v)
}

// GetPropertyTitle gets the "title" property.
// A title that may be shown on the color chooser dialog.
func (x *ColorDialog) GetPropertyTitle() string {
	var v gobject.Value
	x.GetProperty("title", &v)
	return v.GetString()
}

// SetPropertyWithAlpha sets the "with-alpha" property.
// Whether colors may have alpha (translucency).
//
// When with-alpha is false, the color that is selected
// will be forced to have alpha == 1.
func (x *ColorDialog) SetPropertyWithAlpha(value bool) {
	var v gobject.Value
	v.Init(gobject.TypeBooleanVal)
	v.SetBoolean(value)
	x.SetProperty("with-alpha", &v)
}

// GetPropertyWithAlpha gets the "with-alpha" property.
// Whether colors may have alpha (translucency).
//
// When with-alpha is false, the color that is selected
// will be forced to have alpha == 1.
func (x *ColorDialog) GetPropertyWithAlpha() bool {
	var v gobject.Value
	x.GetProperty("with-alpha", &v)
	return v.GetBoolean()
}

func init() {
	core.SetPackageName("GTK", "gtk4")
	core.SetSharedLibraries("GTK", []string{"libgtk-4.so.1"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("GTK") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xColorDialogGLibType, libs, "gtk_color_dialog_get_type")

	core.PuregoSafeRegister(&xNewColorDialog, libs, "gtk_color_dialog_new")

	core.PuregoSafeRegister(&xColorDialogChooseRgba, libs, "gtk_color_dialog_choose_rgba")
	core.PuregoSafeRegister(&xColorDialogChooseRgbaFinish, libs, "gtk_color_dialog_choose_rgba_finish")
	core.PuregoSafeRegister(&xColorDialogGetModal, libs, "gtk_color_dialog_get_modal")
	core.PuregoSafeRegister(&xColorDialogGetTitle, libs, "gtk_color_dialog_get_title")
	core.PuregoSafeRegister(&xColorDialogGetWithAlpha, libs, "gtk_color_dialog_get_with_alpha")
	core.PuregoSafeRegister(&xColorDialogSetModal, libs, "gtk_color_dialog_set_modal")
	core.PuregoSafeRegister(&xColorDialogSetTitle, libs, "gtk_color_dialog_set_title")
	core.PuregoSafeRegister(&xColorDialogSetWithAlpha, libs, "gtk_color_dialog_set_with_alpha")

}
