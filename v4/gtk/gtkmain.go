// Package gtk was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package gtk

import (
	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/pango"
)

const (
	// Use this priority for functionality related to size allocation.
	//
	// It is used internally by GTK+ to compute the sizes of widgets.
	// This priority is higher than %GDK_PRIORITY_REDRAW to avoid
	// resizing a widget which was just redrawn.
	PRIORITY_RESIZE int = 110
)

var xDisablePortals func()

// Prevents GTK from using portals.
//
// This is equivalent to setting `GDK_DEBUG=no-portals` in the environment.
//
// This should only be used in portal implementations, apps must not call it.
func DisablePortals() {

	xDisablePortals()

}

var xDisableSetlocale func()

// Prevents [func@Gtk.init] and [func@Gtk.init_check] from calling `setlocale()`.
//
// You would want to use this function if you wanted to set the locale for
// your program to something other than the user’s locale, or if you wanted
// to set different values for different locale categories.
//
// Most programs should not need to call this function.
func DisableSetlocale() {

	xDisableSetlocale()

}

var xGetDefaultLanguage func() *pango.Language

// Returns the `PangoLanguage` for the default language
// currently in effect.
//
// Note that this can change over the life of an
// application.
//
// The default language is derived from the current
// locale. It determines, for example, whether GTK uses
// the right-to-left or left-to-right text direction.
//
// This function is equivalent to [func@Pango.Language.get_default].
// See that function for details.
func GetDefaultLanguage() *pango.Language {

	cret := xGetDefaultLanguage()
	return cret
}

var xGetLocaleDirection func() TextDirection

// Gets the direction of the current locale.
//
// This is the expected reading direction for text and UI.
//
// This function depends on the current locale being set with
// `setlocale()` and will default to setting the `GTK_TEXT_DIR_LTR`
// direction otherwise. `GTK_TEXT_DIR_NONE` will never be returned.
//
// GTK sets the default text direction according to the locale during
// [func@Gtk.init], and you should normally use [method@Gtk.Widget.get_direction]
// or [func@Gtk.Widget.get_default_direction] to obtain the current direction.
//
// This function is only needed rare cases when the locale is
// changed after GTK has already been initialized. In this case,
// you can use it to update the default text direction as follows:
//
// ```c
// #include &lt;locale.h&gt;
//
// static void
// update_locale (const char *new_locale)
//
//	{
//	  setlocale (LC_ALL, new_locale);
//	  gtk_widget_set_default_direction (gtk_get_locale_direction ());
//	}
//
// ```
func GetLocaleDirection() TextDirection {

	cret := xGetLocaleDirection()
	return cret
}

var xInit func()

// Initializes GTK.
//
// This function must be called before using any other GTK functions
// in your GUI applications.
//
// It will initialize everything needed to operate the toolkit. In particular,
// it will open the default display (see [func@Gdk.Display.get_default]).
//
// If you are using [class@Gtk.Application], you usually don't have to call this
// function; the [vfunc@Gio.Application.startup] handler does it for you. Though,
// if you are using `GApplication` methods that will be invoked before `startup`,
// such as `local_command_line`, you may need to initialize GTK explicitly.
//
// This function will terminate your program if it was unable to initialize
// the windowing system for some reason. If you want your program to fall back
// to a textual interface, call [func@Gtk.init_check] instead.
//
// GTK calls `signal (SIGPIPE, SIG_IGN)` during initialization, to ignore
// SIGPIPE signals, since these are almost never wanted in graphical
// applications. If you do need to handle SIGPIPE for some reason, reset
// the handler after gtk_init(), but notice that other libraries (e.g.
// libdbus or gvfs) might do similar things.
func Init() {

	xInit()

}

var xInitCheck func() bool

// Initializes GTK.
//
// This function does the same work as [func@Gtk.init] with only a
// single change: It does not terminate the program if the windowing
// system can’t be initialized. Instead it returns false on failure.
//
// This way the application can fall back to some other means of
// communication with the user - for example a curses or command line
// interface.
func InitCheck() bool {

	cret := xInitCheck()
	return cret
}

var xIsInitialized func() bool

// Returns whether GTK has been initialized.
//
// See [func@Gtk.init].
func IsInitialized() bool {

	cret := xIsInitialized()
	return cret
}

func init() {
	core.SetPackageName("GTK", "gtk4")
	core.SetSharedLibraries("GTK", []string{"libgtk-4.so.1"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("GTK") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xDisablePortals, libs, "gtk_disable_portals")
	core.PuregoSafeRegister(&xDisableSetlocale, libs, "gtk_disable_setlocale")
	core.PuregoSafeRegister(&xGetDefaultLanguage, libs, "gtk_get_default_language")
	core.PuregoSafeRegister(&xGetLocaleDirection, libs, "gtk_get_locale_direction")
	core.PuregoSafeRegister(&xInit, libs, "gtk_init")
	core.PuregoSafeRegister(&xInitCheck, libs, "gtk_init_check")
	core.PuregoSafeRegister(&xIsInitialized, libs, "gtk_is_initialized")

}
