// Package gtk was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package gtk

import (
	"structs"
	"unsafe"

	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/gio"
	"github.com/jwijenbergh/puregotk/v4/glib"
	"github.com/jwijenbergh/puregotk/v4/gobject"
	"github.com/jwijenbergh/puregotk/v4/gobject/types"
)

type UriLauncherClass struct {
	_ structs.HostLayout

	ParentClass gobject.ObjectClass
}

func (x *UriLauncherClass) GoPointer() uintptr {
	return uintptr(unsafe.Pointer(x))
}

// Asynchronous API to open a uri with an application.
//
// `GtkUriLauncher` collects the arguments that are needed to open the uri.
//
// Depending on system configuration, user preferences and available APIs, this
// may or may not show an app chooser dialog or launch the default application
// right away.
//
// The operation is started with the [method@Gtk.UriLauncher.launch] function.
//
// To launch a file, use [class@Gtk.FileLauncher].
type UriLauncher struct {
	gobject.Object
}

var xUriLauncherGLibType func() types.GType

func UriLauncherGLibType() types.GType {
	return xUriLauncherGLibType()
}

func UriLauncherNewFromInternalPtr(ptr uintptr) *UriLauncher {
	cls := &UriLauncher{}
	cls.Ptr = ptr
	return cls
}

var xNewUriLauncher func(string) uintptr

// Creates a new `GtkUriLauncher` object.
func NewUriLauncher(UriVar string) *UriLauncher {
	var cls *UriLauncher

	cret := xNewUriLauncher(UriVar)

	if cret == 0 {
		return nil
	}
	cls = &UriLauncher{}
	cls.Ptr = cret
	return cls
}

var xUriLauncherCanLaunch func(uintptr, uintptr) bool

// Returns whether the launcher is likely to succeed
// in launching an application for its uri.
//
// This can be used to disable controls that trigger
// the launcher when they are known not to work.
func (x *UriLauncher) CanLaunch(ParentVar *Window) bool {

	cret := xUriLauncherCanLaunch(x.GoPointer(), ParentVar.GoPointer())
	return cret
}

var xUriLauncherGetUri func(uintptr) string

// Gets the uri that will be opened.
func (x *UriLauncher) GetUri() string {

	cret := xUriLauncherGetUri(x.GoPointer())
	return cret
}

var xUriLauncherLaunch func(uintptr, uintptr, uintptr, uintptr, uintptr)

// Launches an application to open the uri.
//
// This may present an app chooser dialog to the user.
func (x *UriLauncher) Launch(ParentVar *Window, CancellableVar *gio.Cancellable, CallbackVar *gio.AsyncReadyCallback, UserDataVar uintptr) {

	xUriLauncherLaunch(x.GoPointer(), ParentVar.GoPointer(), CancellableVar.GoPointer(), glib.NewCallbackNullable(CallbackVar), UserDataVar)

}

var xUriLauncherLaunchFinish func(uintptr, uintptr, **glib.Error) bool

// Finishes the [method@Gtk.UriLauncher.launch] call and
// returns the result.
func (x *UriLauncher) LaunchFinish(ResultVar gio.AsyncResult) (bool, error) {
	var cerr *glib.Error

	cret := xUriLauncherLaunchFinish(x.GoPointer(), ResultVar.GoPointer(), &cerr)
	if cerr == nil {
		return cret, nil
	}
	return cret, cerr

}

var xUriLauncherSetUri func(uintptr, string)

// Sets the uri that will be opened.
func (x *UriLauncher) SetUri(UriVar string) {

	xUriLauncherSetUri(x.GoPointer(), UriVar)

}

func (c *UriLauncher) GoPointer() uintptr {
	if c == nil {
		return 0
	}
	return c.Ptr
}

func (c *UriLauncher) SetGoPointer(ptr uintptr) {
	c.Ptr = ptr
}

func init() {
	core.SetPackageName("GTK", "gtk4")
	core.SetSharedLibraries("GTK", []string{"libgtk-4.so.1"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("GTK") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xUriLauncherGLibType, libs, "gtk_uri_launcher_get_type")

	core.PuregoSafeRegister(&xNewUriLauncher, libs, "gtk_uri_launcher_new")

	core.PuregoSafeRegister(&xUriLauncherCanLaunch, libs, "gtk_uri_launcher_can_launch")
	core.PuregoSafeRegister(&xUriLauncherGetUri, libs, "gtk_uri_launcher_get_uri")
	core.PuregoSafeRegister(&xUriLauncherLaunch, libs, "gtk_uri_launcher_launch")
	core.PuregoSafeRegister(&xUriLauncherLaunchFinish, libs, "gtk_uri_launcher_launch_finish")
	core.PuregoSafeRegister(&xUriLauncherSetUri, libs, "gtk_uri_launcher_set_uri")

}
